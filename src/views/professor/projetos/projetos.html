<div id="professor-equipes">
    <div class="content-header border-bottom">
        <h1>Projetos</h1>
    </div>
    <div class="content py-3">
        <b-row>
            <b-col>
                <app-adicionar-projeto @projetoAdicionado="buscarProjetos"/>
            </b-col>
        </b-row>
        <b-row class="mt-3">
            <b-col>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Projeto</th>
                            <th>Disciplinas</th>
                            <th>Início</th>
                            <th>Término</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="projeto in projetos">
                            <td>{{projeto.pro_tema}}</td>
                            <td>
                                <span class="d-block" v-for="disciplina in projeto.disciplinas">{{disciplina.dis_nome}} - {{disciplina.dis_curso}} - {{periodos[disciplina.dis_periodo]}}</span>
                            </td>
                            <td>{{projeto.pro_inicio | moment('DD/MM/YYYY')}}</td>
                            <td>{{projeto.pro_termino | moment('DD/MM/YYYY')}}</td>
                            <td>
                                <b-button variant="primary" @click="atualizarProjeto(projeto)">
                                    <i class="fas fa-edit"></i>
                                </b-button>
                            </td>
                            <td>
                                <b-button variant="danger" @click="removerProjeto(projeto)">
                                    <i class="fas fa-trash"></i>
                                </b-button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </b-col>
        </b-row>
    </div>
    <app-atualizar-projeto v-if="projeto" :projeto="projeto" @removerSelecao="removerSelecao" @projetoAtualizado="buscarProjetos"/>
</div>